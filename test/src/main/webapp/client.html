<html>
<head>
<title>Test source object</title>
<meta charset="utf-8" />
<script type="text/javascript">
	// general variables
	var ws;
	var video;
	//start method
	function start(){
		// defining variables
		video = document.querySelector("video");
		// preparing ws
		ws = new WebSocket('ws://localhost:8080/test/main');
		// handle events
		ws.addEventListener("open",function(){
			console.log("open")
		});
		
		ws.addEventListener("message",function(e){
			video.src = e.data;
		});
		
		ws.addEventListener("close",function(){
			console.log("closed");
		});
	}
</script>
</head>
<body onload="start()">
	<h1>client</h1>
	<video></video>
</body>
</html>